没有必要设计专门的相关类型，使用现有的上下文操作节点配合对话模块已经能实现相应功能
默认的压缩可以设计为：将当前消息数组传递给压缩子工作流的，调用llm节点执行压缩，使用上下文操作节点标记修改点并尾插压缩后的提示词上下文。
当前这套系统的主要问题是trigger目前无法通过子工作流创建thread，而且也缺乏运行时嵌入图结构的能力。分析如何把trigger系统集成到主执行流程中。
可以考虑的方案包括：
1.把全体trigger一起作为虚节点，直接作为图结构的一部分
2.为trigger模块添加专门的修改渠道，支持运行时修改执行上下文，在触发子工作流时嵌入图结构
3.为图导航、路由逻辑新增直接跳转到特定节点的功能，上下文压缩工作流一开始就以subgraph的形式存在于图定义中
4.其他做法或综合多种思路

由于上下文压缩子工作流是可以单独存在的，因此在图结构中可以不可达。可以在图验证中单独放行不可达的subgraph节点，仅保留为通过触发器触发
这些不可达的subgraph对应的工作流主要有2种形式：
1.subgraph包含连接主工作流可达节点的出边，以保证subgraph的执行结果可以通过正常的渠道传递回。这种方式用于直接把执行结果传递给后续图结构，跳过一部分图结构
2.subgraph完全不连接主工作流，可以设计新的节点类型，用于跳转回原节点执行后的状态，但使用新的执行上下文(包括提示词消息数组)
还有一点需要确认，需要保证执行上下文能正确记录执行过的节点的索引，存储数组中，作为执行历史的记录。

此外，预定义压缩子图不是问题，完全可以多套系统共用一个预定义的子工作流。